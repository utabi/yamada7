# yamada7

`yamada7`は「恐怖心と好奇心の創発」をテーマにしたAI一体型システムの実験プロジェクトです。  
生存を最優先目標に据えた自律的エージェントを構築し、危険回避と環境探索がどのようにバランスするかを観察・検証します。

## 背景

- yamada1〜6まではLLMにMac操作を任せて自律的に活動させる試みだったが、十分な自発性が得られなかった。  
- 自律性を高めるためには「自分の存続を守る」という一貫した動機付けが必要だと考えた。  
- 恐怖心は存続を脅かす要因の学習から、好奇心は未知を探索する内発的報酬から、それぞれ創発し得ると仮定する。

## コアコンセプト

1. **生存スコア最大化**  
   - ライフ・資源・時間などの指標を組み合わせ、死ぬまでの累積スコアを追求させる。
2. **恐怖の学習**  
   - 危険シグナルと被ダメージを逐次フィードバックし、リスク予測と回避戦略を獲得させる。
3. **好奇心の創発**  
   - 未知領域の探索や情報獲得に内発報酬を与え、生存と探索のトレードオフを自律的に調整させる。
4. **LLM中心の思考ループ**  
   - 各ターンでLLMが状況分析・計画・反省を行い、行動系列を決定する。補助的なアルゴリズムはLLM思考を支援する位置付け。

## 進行イメージ

- 環境から状態を取得 → 状態を要約 → LLMが次のターンの計画とリスク評価を生成。  
- 計画に沿って行動を実行し、結果と報酬を要約してLLMに戻す。  
- LLMが反省・恐怖辞典更新・探索バイアス調整を行い、次ターンへ引き継ぐ。  
- フィードバックループの指標・ログ・思考過程はブラウザUIダッシュボードでリアルタイムに監視する。

## このリポジトリで扱うもの

- `design.md`: 実現方法やアーキテクチャ設計（エージェント構成を含む）。  
- ブラウザベースの可視化ダッシュボード（ターン進行・恐怖/好奇心指標・メモリを表示）。  
- `playground/`: LLMが自由に試行錯誤するためのサンドボックス領域。  
- プロトタイピング用のスクリプトやログ収集のためのツール類（今後追加予定）。

## はじめ方

1. 仮想環境を作り依存関係をインストールする:
   ```bash
   python3 -m venv .venv
   source .venv/bin/activate
   pip install -e .
   ```
2. グリッドワールドシミュレータでループを実行する:
   ```bash
   python scripts/run_sim.py --ticks 50 --dashboard
   ```
3. ブラウザで `http://127.0.0.1:8765/ui/` にアクセスし、リアルタイムダッシュボードを確認する（APIは `/snapshots`・`/metrics`・`/events` から取得可能）。

### Claude Code CLI を利用する場合

LLMプランナーを本番モードに切り替えるには `claude code` CLI をインストールした上で、以下のように実行します。

```bash
python scripts/run_sim.py --ticks 50 --dashboard \
  --llm-mode claude-cli \
  --claude-binary claude \
  --claude-model claude-4-5-sonnet-latest
```

- `--llm-mode claude-cli` を指定すると `claude code` にプロンプトを投げ、`--dangerously-skip-permissions` オプション付きで実行します（デフォルトで有効）。
- 追加の CLI 引数が必要な場合は `--claude-extra-arg "--xxx"` を複数回指定します。
- `--claude-allow-permissions` を付けると `--dangerously-skip-permissions` を無効化できます。

## ドキュメント運用

- このリポジトリ内のドキュメントおよびコミットメッセージは原則として日本語で記述すること。
- 外部と共有する際に英語版が必要になった場合は別ファイルとして追加し、READMEでは日本語版を正とする。
